# Git

## 一. Git目录

* 工作目录
  * 存放Java代码的目录 `(存放文件的目录)`
* 暂存区
  * 中转站,可以撤销和提交的操作
* 本地仓库
  * 交给git管理的文件, `.git` 目录就是本地仓库
* 远程仓库
  * Gitee
    * 服务器在国内,网络比较稳定
  * Github
    * 服务器在国外,网络不稳定,基本使用随缘
  * Git私服仓库
    * 通常在Linux服务器中进行搭建,用于管理代码,作用和Gitee和Github一样的,只不过不对外进行提供使用

![image-20220414204534559](./README.ASSERT/image-20220414204534559.png)



## 二. Git文件状态

* 红色文件状态
  * 查看文件状态时,发现这个文件是红色的,那就代表git没有管理这个文件
* 绿色文件状态
  * 查看文件状态时,发现这个文件状态是绿色的,代表这个文件已经在暂存区中,准备交给Git管理 `(准备提交到本地仓库中)`



## 三. Git基本命令

### 1. 查看版本号

```sh
git --version
```

### 2. 设置全局用户名和邮箱 `[执行一次即可]`

```sh
# 设置Git全局的用户名称
git config --global user.name "用户名"
# 设置Git全局的邮箱地址
git config --global user.email "xxx@xxx.xxx"
# 查看全局配置
git config --list
```

* Git在提交文件时,会记录是谁提交的,邮箱是什么,都会忠实的记录下来

### 3. 创建本地仓库

```sh
# 创建本地仓库,它是一个 .git 的隐藏文件夹
git init
```

### 4. 将文件添加到暂存区

```sh
# 将文件或文件夹添加到暂存区中,等待交给git管理
git add 文件或文件夹名称
# 如果有多个文件,可以通过 . 来代表当前目录所有文件
git add .
```

### 5. 查看文件状态

```sh
# 通过该命令,查看文件的状态
# 能够看到文件状态是红色的或者绿色的
git status
```

### 6. 将文件提交到本地仓库中

```sh
# 提交完成后,暂存区的内容就被清空了
git commit -m "本次提交的日志信息"
```

### 7. 暂存区中撤回文件

```sh
# 如果不小心提交错了文件,可以通过该命令,将文件的绿色状态撤回为红色状态
git reset 文件名称或文件夹名称
# 如果文件过多,也可以通过 . 代表暂存区中所有的文件
git reset .
```

### 8. 版本控制/文件找回

> 可以将当前的指针`(HEAD)`切换到任意的提交`(commit)`的位置

```sh
git reset --hard 唯一标识
```

### 9. 查看日志信息

```sh
# 查看当前日志信息,信息较全
git log

# 查看简洁日志信息
git log --oneline

# 查看历史日志信息
git reflog
```

### 10. 删除操作

* 物理删除

  * 按删除键
  * 通过Linux命令删除
  * 共同的特点,就是删除完的文件,它的文件状态为红色
    * 必须先执行 `add` 命令,添加到暂存区 `绿色` , 提交到本地仓库 `commit`

* Git删除

  * 通过git命令删除时,它直接是绿色的文件状态

    * 直接执行 `commit` 命令即可提交到本地仓库中

  * ```sh
    git rm 文件或文件夹名称
    ```

* 无论怎样的删除,必须提交到本地仓库中,这样本地仓库才会将这个文件删除掉

  * 第一步,删除文件
  * 第二次,提交到本地仓库





